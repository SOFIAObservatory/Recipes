<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SOFIA data retrieval &mdash; SOFIA tutorials  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="FORCAST Basic photometry" href="FORCAST-Basic_Photometry.html" />
    <link rel="prev" title="SOFIA DATA Analysis Tutorials" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> SOFIA tutorials
            <img src="_static/sofia_logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">SOFIA data retrieval</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#Goals:">Goals:</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Downloading-HAWC+-Data">Downloading HAWC+ Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#SOFIA-Data-Organization">SOFIA Data Organization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="FORCAST-Basic_Photometry.html">FORCAST Basic photometry</a></li>
<li class="toctree-l1"><a class="reference internal" href="FORCAST-photometry_detailed.html">FORCAST photometry (detailed)</a></li>
<li class="toctree-l1"><a class="reference internal" href="FORCAST-Grism_Inspection-1.html">FORCAST Grism Spectra: Basic Inspection and Assessment</a></li>
<li class="toctree-l1"><a class="reference internal" href="FORCAST-Grism_LineAnalysis-2.html">FORCAST Grism Spectra: Basic Line Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="FORCAST-Grism_CustomExtraction-3.html">FORCAST Grism Spectra: Custom Spectral Extraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="HAWC_30_Dor.html">HAWC+ Data Recipe / 30 Doradus Data Release</a></li>
<li class="toctree-l1"><a class="reference internal" href="EXES-Data-Inspection.html">EXES: Data inspection</a></li>
<li class="toctree-l1"><a class="reference internal" href="FIFI-LS_sospex.html">FIFI-LS: Basic Cube Analysis using SOSPEX</a></li>
<li class="toctree-l1"><a class="reference internal" href="GREAT-Class_primer.html">GREAT: Class primer</a></li>
<li class="toctree-l1"><a class="reference internal" href="GREAT-Class_primer.html#Introduction">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="GREAT-Class_primer.html#Ingredients">Ingredients</a></li>
<li class="toctree-l1"><a class="reference internal" href="GREAT-Class_primer.html#Procedure">Procedure</a></li>
<li class="toctree-l1"><a class="reference internal" href="GREAT-Class_primer.html#Cleaning-up">Cleaning up</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SOFIA tutorials</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>SOFIA data retrieval</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/SOFIA_data_retrieval.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="SOFIA-data-retrieval">
<h1>SOFIA data retrieval<a class="headerlink" href="#SOFIA-data-retrieval" title="Permalink to this headline"></a></h1>
<ul class="simple">
<li><p><strong>Aim</strong>: Download SOFIA data through the Infrared Science Archive (IRSA)</p></li>
<li><p><strong>Data</strong>: 30 Doradus HAWC+ public dataset</p></li>
<li><p><strong>Instrument</strong>: All</p></li>
<li><p><strong>Documentation</strong>: <a class="reference external" href="https://www.sofia.usra.edu/data/science-archive">Science Archive</a>.</p></li>
<li><p><strong>Notebook repository</strong>: <a class="reference external" href="https://github.com/SOFIAObservatory/Recipes">https://github.com/SOFIAObservatory/Recipes</a></p></li>
</ul>
<section id="Goals:">
<h2>Goals:<a class="headerlink" href="#Goals:" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Download data manually through the IRSA website</p></li>
<li><p>Explore file structure</p></li>
</ul>
</section>
<section id="Introduction">
<h2>Introduction<a class="headerlink" href="#Introduction" title="Permalink to this headline"></a></h2>
<p>In this <code class="docutils literal notranslate"><span class="pre">jupyter</span></code> recipe, we explain how to download SOFIA data through the Infrared Science Archive (IRSA).</p>
<p>This cookbook recipe follows the SOFIA press release of 30 Doradus observations: <a class="reference external" href="https://www.sofia.usra.edu/multimedia/science-results-archive/sofia-reveals-never-seen-magnetic-field-details">SOFIA Reveals Never-Before-Seen Magnetic Field Details</a>.</p>
<p>The Level 4 reduced data from this program has been released immediately to the public and is available on the Infrared Science Archive <a class="reference external" href="https://irsa.ipac.caltech.edu/Missions/sofia.html">(IRSA)</a>. This notebook will guide the reader through downloading the 30 Doradus data manually through the IRSA website.</p>
</section>
<section id="Downloading-HAWC+-Data">
<h2>Downloading HAWC+ Data<a class="headerlink" href="#Downloading-HAWC+-Data" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Fill in the following fields</p></li>
<li><p>Spatial constraints:</p>
<ul>
<li><p>Coordinates or object name: <code class="docutils literal notranslate"><span class="pre">30</span> <span class="pre">Dor</span></code> from drop-down menu</p></li>
<li><p>Radius: <code class="docutils literal notranslate"><span class="pre">600</span> <span class="pre">arcseconds</span></code></p></li>
</ul>
</li>
<li><p>Click on the arrow next to Observation Constraints to open the drop-down options.</p></li>
<li><p>Observation Constraints:</p>
<ul>
<li><p>Observation Date: From: <code class="docutils literal notranslate"><span class="pre">2018-01-01</span></code> To: <code class="docutils literal notranslate"><span class="pre">2019-01-01</span></code></p></li>
</ul>
</li>
<li><p>Instrument Constraints</p>
<ul>
<li><p>Select <code class="docutils literal notranslate"><span class="pre">HAWC+</span></code></p></li>
</ul>
</li>
<li><p>Data Product Constraints:</p>
<ul>
<li><p>Processing Level: <code class="docutils literal notranslate"><span class="pre">Level</span> <span class="pre">4</span></code></p></li>
<li><p>Click the <code class="docutils literal notranslate"><span class="pre">Search</span></code> button</p></li>
</ul>
</li>
<li><p>After the results load, select the checkboxes next to the Column header AOR ID to select all data files. All files should now have a blue check indicating selection.</p></li>
<li><p>Click <code class="docutils literal notranslate"><span class="pre">Prepare</span> <span class="pre">Download</span></code></p></li>
<li><p>Fill in Title as <code class="docutils literal notranslate"><span class="pre">HAWC+_example_data</span></code></p></li>
<li><p>Click <code class="docutils literal notranslate"><span class="pre">Prepare</span> <span class="pre">Download</span></code></p></li>
<li><p>After a few minutes, the data will be downloaded locally.</p></li>
<li><p>For more information, consult the <a class="reference external" href="https://www.sofia.usra.edu/sites/default/files/Instruments/HAWC_PLUS/Documents/hawc_data_handbook.pdf">HAWC+ Data Handbook</a>.</p></li>
</ul>
<img alt="ISRA Search Results" src="_images/isra_results.png" />
<p>The results will show files (fits) including descriptions of the file metadata. Included in this metadata is the “Quality Assurance” comments (shown with the red ellipse) with specific notes from the instrument scientists during the observations. These include notes about data quality, observing complications, and if the observations was an aquisition observations.</p>
</section>
<section id="SOFIA-Data-Organization">
<h2>SOFIA Data Organization<a class="headerlink" href="#SOFIA-Data-Organization" title="Permalink to this headline"></a></h2>
<p>After downloading the SOFIA data to your working directory you will want to unzip it, which will produce a directory structure like this:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">.</span>
<span class="go">└── HAWC+_example_data</span>
<span class="go">    ├── level4</span>
<span class="go">    │   └── p5813</span>
<span class="go">    │       └── F0484_HA_POL_7600018_HAWCHWPC_PMP_022-114.fits</span>
<span class="go">    └── missions</span>
<span class="go">        ├── 2018-07-05_HA_F481</span>
<span class="go">        │   └── p5827</span>
<span class="go">        │       └── F0481_HA_POL_7600012_HAWDHWPD_PMP_050-083.fits</span>
<span class="go">        ├── 2018-07-07_HA_F483</span>
<span class="go">        │   └── p5646</span>
<span class="go">        │       └── F0483_HA_POL_7600014_HAWCHWPC_PMP_022-065.fits</span>
<span class="go">        ├── 2018-07-11_HA_F484</span>
<span class="go">        │   └── p5648</span>
<span class="go">        │       └── F0484_HA_POL_7600017_HAWCHWPC_PMP_065-114.fits</span>
<span class="go">        └── 2018-07-12_HA_F485</span>
<span class="go">            └── p5658</span>
<span class="go">                ├── g1</span>
<span class="go">                │   └── F0485_HA_POL_76000110_HAWAHWPA_PMP_043-052.fits</span>
<span class="go">                └── g2</span>
<span class="go">                    └── F0485_HA_POL_7600019_HAWEHWPE_PMP_055-075.fits</span>
</pre></div>
</div>
<p>Note the following features of this data bundle.</p>
<ul class="simple">
<li><p>Each <code class="docutils literal notranslate"><span class="pre">fits</span></code> file in the ‘missions’ directory corresponds to data from a single AOR (or a different filter element) obtained on a single flight</p></li>
<li><p>Each subdirectory under missions corresponds to a single flight</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fits</span></code> files under ‘level4’ correspond to data combined from several flights</p></li>
<li><p>If multiple filters were observed on the same flight, they will be further divided into subdirectories (g1/g2 on the last line)</p></li>
</ul>
<p>Note that two observations were made with the same filter (HAWC C, <span class="math notranslate nohighlight">\(89\,\mathrm{\mu m}\)</span>). These files, <code class="docutils literal notranslate"><span class="pre">F0483_HA_POL_7600014_HAWCHWPC_PMP_022-065.fits</span></code> and <code class="docutils literal notranslate"><span class="pre">F0484_HA_POL_7600017_HAWCHWPC_PMP_065-114.fits</span></code>, were combined into one:</p>
<p><code class="docutils literal notranslate"><span class="pre">level4-&gt;p5813-&gt;F0484_HA_POL_7600018_HAWCHWPC_PMP_022-114.fits</span></code>.</p>
<p>You can choose to keep the <code class="docutils literal notranslate"><span class="pre">fits</span></code> files nested, or copy them into one directory.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">.</span>
<span class="go">└── sofia_data</span>
<span class="go">    ├── F0481_HA_POL_7600012_HAWDHWPD_PMP_050-083.fits</span>
<span class="go">    ├── F0483_HA_POL_7600014_HAWCHWPC_PMP_022-065.fits</span>
<span class="go">    ├── F0484_HA_POL_7600017_HAWCHWPC_PMP_065-114.fits</span>
<span class="go">    ├── F0484_HA_POL_7600018_HAWCHWPC_PMP_022-114.fits</span>
<span class="go">    ├── F0485_HA_POL_76000110_HAWAHWPA_PMP_043-052.fits</span>
<span class="go">    └── F0485_HA_POL_7600019_HAWEHWPE_PMP_055-075.fits</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="SOFIA DATA Analysis Tutorials" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="FORCAST-Basic_Photometry.html" class="btn btn-neutral float-right" title="FORCAST Basic photometry" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, SOFIA/USRA.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>